<div class="container bg-light text-dark">
  <h3><%= @user.username %></h3>
  <p><%= @user.city %></p>
  <h5> About: </h5>
  <p><%= @user.bio %></p>
  <h5><%= @user.username %>'s Categories:</h5>
  <% categories = [] %>
  <% @user.dreams.each do |dream| %>
    <% if !dream.private || dream.user == current_user %>
      <% categories << dream.categories %>
    <% end %>
  <% end %>
  <ul>
    <% categories = categories.flatten %>
    <% if categories.empty? %>
      <li>No categories to display.</li>
    <% else %>
      <% categories.uniq.each do |category| %>
        <li><%= category.name %></li>
      <% end %>
    <% end %>
  </ul>

  <% if @user == current_user %>
    <p><a href="/users/<%= @user.id %>/edit">Update profile information</a></p>
  <% end %>

  <h4> Dreams </h4>

  <ul>
    <% dream_count = 0 %>
    <% @user.dreams.each do |dream| %>
      <% if !dream.private || dream.user == current_user %>
        <% dream_count += 1 %>
       <li> <h5><a href="/dreams/<%= dream.id %>"><%= dream.title %><a></h5>
          <p><%= dream.content %></p>
        </li>
      <% end %>
    <% end %>
    <%= "<li>This user has no dreams to display. </li>" if dream_count == 0 %>


</div>
